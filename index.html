<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Primary Meta Tags -->
	<title>PSI.SG üá∏üá¨ ‚Äì Haze updates at a glance</title>
	<meta name="title" content="PSI.SG üá∏üá¨ ‚Äì Haze updates at a glance" />
	<meta name="description" content="Quick updates at a glance on PSI and PM2.5 readings for the haze situation in Singapore." />

	<!-- Open Graph / Facebook -->
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://psi.sg/" />
	<meta property="og:title" content="PSI.SG üá∏üá¨ ‚Äì Haze updates at a glance" />
	<meta property="og:description" content="Quick updates at a glance on PSI and PM2.5 readings for the haze situation in Singapore." />
	<meta property="og:image" content="https://i.ibb.co/D5GypXz/psisg-og-image.png" />

	<!-- Twitter -->
	<meta property="twitter:card" content="summary_large_image" />
	<meta property="twitter:url" content="https://psi.sg/" />
	<meta property="twitter:title" content="PSI.SG üá∏üá¨ ‚Äì Haze updates at a glance" />
	<meta property="twitter:description" content="Quick updates at a glance on PSI and PM2.5 readings for the haze situation in Singapore." />
	<meta property="twitter:image" content="https://i.ibb.co/D5GypXz/psisg-og-image.png" />

	<!-- Mobile app icon -->
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="apple-mobile-web-app-title" content="PSI.SG üá∏üá¨">
	<meta name="mobile-web-app-capable" content="yes">
	<!-- <link rel="apple-touch-icon" sizes="180x180" href="https://i.ibb.co/cCGkG0S/psisg-icon-180px.png"> -->
	<!-- <link rel="apple-touch-icon" sizes="180x180" href="https://i.ibb.co/8sxpngb/psisg-logo1-180px.png"> -->
	<!-- <link rel="apple-touch-icon" sizes="180x180" href="https://i.ibb.co/z5sH3Wf/psisg-logo2-3.png"> -->
	<!-- <link rel="apple-touch-icon" sizes="180x180" href="https://i.ibb.co/0qb11j4/psisg-logo2-5a-180px.png"> -->
	<!-- <link rel="apple-touch-icon" sizes="180x180" href="https://i.ibb.co/g9Nyk0Y/psisg-logo2-6-180px.png"> -->
	<link rel="apple-touch-icon" sizes="180x180" href="https://i.ibb.co/xzzPv49/psisg-logo2-7-180px.png">
	<!-- <link rel="icon" type="image/png" sizes="32x32" href="https://i.ibb.co/cN4xnxF/psisg-icon-32px.png"> -->
	<!-- <link rel="icon" type="image/png" sizes="16x16" href="https://i.ibb.co/cN4xnxF/psisg-icon-32px.png"> -->
	<!-- <link rel="icon" type="image/png" sizes="32x32" href="https://i.ibb.co/T0JSPjD/psisg-icon2-32px.png"> -->
	<!-- <link rel="icon" type="image/png" sizes="16x16" href="https://i.ibb.co/T0JSPjD/psisg-icon2-32px.png"> -->
	<!-- <link rel="icon" type="image/png" sizes="32x32" href="https://i.ibb.co/4KL6BDz/psisg-favicon2-32px.png"> -->
	<!-- <link rel="icon" type="image/png" sizes="16x16" href="https://i.ibb.co/4KL6BDz/psisg-favicon2-32px.png"> -->
	<!-- <link rel="icon" type="image/png" sizes="32x32" href="https://i.ibb.co/m6rxGN8/psisg-favicon3-32px.png"> -->
	<!-- <link rel="icon" type="image/png" sizes="16x16" href="https://i.ibb.co/m6rxGN8/psisg-favicon3-32px.png"> -->
	<link rel="icon" type="image/png" sizes="32x32" href="https://i.ibb.co/zxhwVkv/psisg-favicon4-32px.png">
	<link rel="icon" type="image/png" sizes="16x16" href="https://i.ibb.co/zxhwVkv/psisg-favicon4-32px.png">

	<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2" as="font" type="font/woff2" crossorigin="anonymous" referrerpolicy="no-referrer" async />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous" referrerpolicy="no-referrer" async />

	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-2EG7RX1FNM"></script>
	<script>
		window.dataLayer = window.dataLayer || [];

		function gtag() {
			dataLayer.push(arguments);
		}
		gtag('js', new Date());
		gtag('config', 'G-2EG7RX1FNM');
	</script>

	<style>
		body {
			font-family: 'Arial', sans-serif;
			/*animation: fadeIn 1s ease-in-out;*/
		}

		#app {
			/*height: 100%;
			width: 100%;
			top: 10%;
			left: 10%;
			position: absolute; */
			margin-top: 5.5em;
			text-align: center;
			/* -ms-transform: translate(-50%, -50%);
			transform: translate(-50%, -50%); */
			padding: 10px;
			/* font-display: swap means the browser will use a fallback font to render the text while the Font Awesome font is loading. This can help page speed by displaying the text sooner. */
			font-display: swap;
		}

		ul {
			padding-left: 20px;
			margin-top: 0;
		}

		.no-bullets ul {
			padding-left: 0;
			list-style-type: none;
		}

		.slide-left {
			-webkit-transform: translateX(-200%);
			-moz-transform: translateX(-200%);
			-ms-transform: translateX(-200%);
			-o-transform: translateX(-200%);
			transform: translateX(-200%);
			-webkit-transition: transform 0.8s ease;
			-moz-transition: transform 0.8s ease;
			-ms-transition: transform 0.8s ease;
			-o-transition: transform 0.8s ease;
			transition: transform 0.8s ease;
		}

		.slide-right {
			-webkit-transform: translateX(200%);
			-moz-transform: translateX(200%);
			-ms-transform: translateX(200%);
			-o-transform: translateX(200%);
			transform: translateX(200%);
			-webkit-transition: transform 0.8s ease;
			-moz-transition: transform 0.8s ease;
			-ms-transition: transform 0.8s ease;
			-o-transition: transform 0.8s ease;
			transition: transform 0.8s ease;
		}

		.fade-in-right {
			-webkit-animation: fadeInRight 0.8s ease-in-out;
			-moz-animation: fadeInRight 0.8s ease-in-out;
			-ms-animation: fadeInRight 0.8s ease-in-out;
			-o-animation: fadeInRight 0.8s ease-in-out;
			animation: fadeInRight 0.8s ease-in-out;
		}

		@keyframes fadeInRight {
			from {
				opacity: 0;
				transform: translateX(200%);
			}

			to {
				opacity: 1;
				transform: translateX(0%);
			}
		}

		@-webkit-keyframes fadeInRight {
			from {
				opacity: 0;
				-webkit-transform: translateX(200%);
			}

			to {
				opacity: 1;
				-webkit-transform: translateX(0%);
			}
		}

		@-moz-keyframes fadeInRight {
			from {
				opacity: 0;
				-moz-transform: translateX(200%);
			}

			to {
				opacity: 1;
				-moz-transform: translateX(0%);
			}
		}

		@-ms-keyframes fadeInRight {
			from {
				opacity: 0;
				-ms-transform: translateX(200%);
			}

			to {
				opacity: 1;
				-ms-transform: translateX(0%);
			}
		}

		@-o-keyframes fadeInRight {
			from {
				opacity: 0;
				-o-transform: translateX(200%);
			}

			to {
				opacity: 1;
				-o-transform: translateX(0%);
			}
		}

		.fade-in-left {
			-webkit-animation: fadeInLeft 0.8s ease-in-out;
			-moz-animation: fadeInLeft 0.8s ease-in-out;
			-ms-animation: fadeInLeft 0.8s ease-in-out;
			-o-animation: fadeInLeft 0.8s ease-in-out;
			animation: fadeInLeft 0.8s ease-in-out;
		}

		@keyframes fadeInLeft {
			from {
				opacity: 0;
				transform: translateX(-200%);
			}

			to {
				opacity: 1;
				transform: translateX(0%);
			}
		}

		@-webkit-keyframes fadeInLeft {
			from {
				opacity: 0;
				-webkit-transform: translateX(-200%);
			}

			to {
				opacity: 1;
				-webkit-transform: translateX(0%);
			}
		}

		@-moz-keyframes fadeInLeft {
			from {
				opacity: 0;
				-moz-transform: translateX(-200%);
			}

			to {
				opacity: 1;
				-moz-transform: translateX(0%);
			}
		}

		@-ms-keyframes fadeInLeft {
			from {
				opacity: 0;
				-ms-transform: translateX(-200%);
			}

			to {
				opacity: 1;
				-ms-transform: translateX(0%);
			}
		}

		@-o-keyframes fadeInLeft {
			from {
				opacity: 0;
				-o-transform: translateX(-200%);
			}

			to {
				opacity: 1;
				-o-transform: translateX(0%);
			}
		}

		.fade-out-in {
			-webkit-animation: fade 0.8s ease-in-out forwards;
			-moz-animation: fade 0.8s ease-in-out forwards;
			-ms-animation: fade 0.8s ease-in-out forwards;
			-o-animation: fade 0.8s ease-in-out forwards;
			animation: fade 0.8s ease-in-out forwards;
		}

		@keyframes fade {
			0% {
				opacity: 1;
			}

			50% {
				opacity: 0;
			}

			100% {
				opacity: 1;
			}
		}

		@-webkit-keyframes fade {
			0% {
				opacity: 1;
			}

			50% {
				opacity: 0;
			}

			100% {
				opacity: 1;
			}
		}

		@-moz-keyframes fade {
			0% {
				opacity: 1;
			}

			50% {
				opacity: 0;
			}

			100% {
				opacity: 1;
			}
		}

		@-ms-keyframes fade {
			0% {
				opacity: 1;
			}

			50% {
				opacity: 0;
			}

			100% {
				opacity: 1;
			}
		}

		@-o-keyframes fade {
			0% {
				opacity: 1;
			}

			50% {
				opacity: 0;
			}

			100% {
				opacity: 1;
			}
		}

		.translation-bar {
			position: absolute;
			top: 0;
			right: 0;
			padding: 1em 1.5em 0 0;
			margin: auto;
			font-size: 0.8em;
		}

		.box {
			background-color: #ffffff;
			/*padding: 0.8em 2em 1.2em 2em;*/
			padding: 0 0 1.2em 0;
			line-height: 1.3;
			border-radius: 5px;
			color: #505050 !important;
			max-width: 350px;
			margin: auto;
		}

		.box ul li {
			margin: 0 0 0.3em 0;
		}

		/* .box ul li span {
			position: absolute;
			margin: 5px 0 0 -9px;
		} */
		.box-header {
			background-color: #505050;
			border-radius: 5px 5px 0 0;
			color: #fff;
			/* display: flex;
			align-items: center;
			justify-content: space-between; 
			position: relative; */
			padding: 1.2em 2em 1.2em 2em;
			box-shadow: 0 0.125em 0.25em rgba(10, 10, 10, .1);
			margin-top: 0;
		}

		.time-box {
			padding: 1em 2em;
			border-radius: 5px;
			max-width: 400px;
			margin: 0 auto 0 auto;
			font-size: 0.8em;
		}

		.time-box .box {
			/*padding: 0.8em 2em 1.2em 2.5em;*/
			max-width: 305px;
		}

		.psi-number,
		.pm25-number {
			font-size: 15rem;
			font-weight: bold;
		}

		.info-text {
			font-size: 1em;
			font-weight: lighter;
			padding: 0.6em 2em 0.5em 2em;
		}

		.index-text {
			font-size: 1.5em;
			margin: 0 auto 1.5em auto;
			max-width: 400px;
		}

		.footer {
			font-size: 0.8em;
			max-width: 400px;
			text-align: center;
			text-wrap: wrap;
			margin: auto;
		}

		.green {
			background-color: #2FA451;
			color: white;
		}

		.green .dot {
			background-color: white;
		}

		.blue {
			background-color: #0298D6;
			color: white;
		}

		.blue .dot {
			background-color: white;
		}

		.yellow {
			background-color: #FFAC30;
			color: black;
		}

		.yellow .dot {
			background-color: black;
		}

		.orange {
			background-color: #F79434;
			color: white;
		}

		.orange .dot {
			background-color: white;
		}

		.red {
			background-color: #E11B2C;
			color: white;
		}

		.red .dot {
			background-color: white;
		}

		.grey {
			background-color: #DDDDDD;
			color: black;
		}

		.grey .dot {
			background-color: black;
		}

		.lightgreen {
			background-color: #48ffb0;
			color: #505050;
		}

		.lightgreen .dot {
			background-color: #505050;
		}

		.lightblue {
			background-color: #34adfd;
			color: white;
		}

		.lightblue .dot {
			background-color: white;
		}

		.lightyellow {
			background-color: #fff51b;
			color: black;
		}

		.lightyellow .dot {
			background-color: black;
		}

		.lightred {
			background-color: #ff5643;
			color: white;
		}

		.lightred .dot {
			background-color: white;
		}

		.togglegroup {
			margin: 0 auto 80px auto;
			color: #505050;
		}

		.tag {
			padding: 0.5em 1em;
			margin: 0.25em 1em;
			border-radius: 0.25em;
			border: none;
			background-color: rgba(255, 255, 255, 0.7);
			color: #505050;
			box-shadow: 2px 2px rgba(0, 0, 0, 0.2);
			font-size: 0.875em;
			font-weight: bold;
			letter-spacing: 0.05em;
			cursor: pointer;
		}

		.region-tag {
			padding: 0.25em 0.5em;
			margin: 0.2em;
			border-radius: 0.25em;
			border: none;
			background-color: rgba(255, 255, 255, 0.7);
			color: #505050;
			cursor: pointer;
			text-wrap: wrap;
			display: inline-block;
			width: 140px;
		}

		.refreshicon {
			cursor: pointer;
			position: absolute;
			margin-top: -8px;
		}

		.dot {
			height: 15px;
			width: 15px;
			/* background-color: #505050; */
			border-radius: 50%;
			display: inline-block;
			margin: 0 5px 0 5px;
			vertical-align: middle;
			cursor: pointer;
			opacity: 0.6;
		}

		.pulse-group {
			position: relative;
			bottom: 60px;
			left: 0;
			width: 400px;
			margin: 0 auto 1em auto;
		}

		.pulse-circle {
			position: absolute;
			bottom: 31px;
			left: 24px;
			z-index: 998;
			width: 30px;
			height: 30px;
			border-radius: 50%;
			background-color: rgba(0, 0, 0, 0.4);
			animation: pulse 8s ease-in-out forwards;
		}

		.pulse-hand {
			position: absolute;
			bottom: 0px;
			left: 0px;
			/*width: 12%;*/
			z-index: 999;
			transform: rotate(45deg);
			animation: show 8s ease-in-out forwards;
			margin-bottom: 0px;
		}

		@keyframes pulse {
			0% {
				transform: scale(1);
				opacity: 0;
			}

			49% {
				transform: scale(1);
				opacity: 0;
			}

			50% {
				transform: scale(1);
				opacity: 0.7;
			}

			55% {
				transform: scale(1.3);
				opacity: 0.3;
			}

			59% {
				transform: scale(1.3);
				opacity: 0;
			}

			60% {
				transform: scale(1);
				opacity: 0.7;
			}

			65% {
				transform: scale(1.3);
				opacity: 0.3;
			}

			69% {
				transform: scale(1.3);
				opacity: 0;
			}

			70% {
				transform: scale(1);
				opacity: 0.7;
			}

			75% {
				transform: scale(1.3);
				opacity: 0.3;
			}

			79% {
				transform: scale(1.3);
				opacity: 0;
			}

			80% {
				transform: scale(1);
				opacity: 0.7;
			}

			85% {
				transform: scale(1.3);
				opacity: 0.3;
			}

			89% {
				transform: scale(1.3);
				opacity: 0;
			}

			90% {
				transform: scale(1);
				opacity: 0.7;
			}

			95% {
				transform: scale(1.3);
				opacity: 0.3;
			}

			99% {
				transform: scale(1.3);
				opacity: 0;
			}

			100% {
				transform: scale(1);
				opacity: 0;
			}
		}

		@keyframes show {
			0% {
				opacity: 0;
			}

			49% {
				opacity: 0;
			}

			50% {
				opacity: 1;
			}

			99% {
				opacity: 1;
			}

			100% {
				opacity: 0;
			}
		}

		@media only screen and (max-width: 600px) {
			#app {
				margin-top: 4em;
			}

			.translation-bar {
				font-size: 0.8em;
			}

			.box {
				max-width: 310px;
			}

			.time-box .box {
				/**/
			}

			.box ul li {
				margin: 0 0 0.8em 0;
			}

			.psi-number,
			.pm25-number {
				font-size: 13rem;
			}

			.index-text {
				font-size: 1.3em;
			}

			.region-tag {
				padding: 0.25em 0.5em;
				margin: 0.2em;
				width: 130px;
			}

			.footer {
				font-size: 0.8em;
				max-width: 350px;
			}

			.pulse-group {
				bottom: 50px;
				left: -13px;
				width: 350px;
			}

			.pulse-circle {
				bottom: 30px;
				left: 24px;
				width: 30px;
				height: 30px;
			}

			.pulse-hand {
				bottom: 0px;
				left: 0px;
				/*width: 12%;*/
				margin-bottom: 0px;
			}
		}
	</style>
</head>

<body>
	<div id="translationBar" class="translation-bar"><a href="https://psi-sg.translate.goog/?_x_tr_sl=en&_x_tr_tl=zh-CN&_x_tr_hl=en&_x_tr_pto=wapp" target="_blank" style="color: inherit !important">‰∏≠Êñá |&nbsp;&nbsp;</a><a href="https://psi-sg.translate.goog/?_x_tr_sl=en&_x_tr_tl=ms&_x_tr_hl=en&_x_tr_pto=wapp" target="_blank" style="color: inherit !important">Bahasa melayu |&nbsp;&nbsp;</a><a href="https://psi-sg.translate.goog/?_x_tr_sl=en&_x_tr_tl=ta&_x_tr_hl=en&_x_tr_pto=wapp" target="_blank" style="color: inherit !important">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</a></div>
	<div id="app">
		<div class="togglegroup"><a @click="toggleToPm25"><span id="pm25Tag" class="tag" style="box-shadow: none;">1h PM2.5</span></a><span style="font-weight: bold; color: #505050"></span><a @click="toggleToPsi"><span id="psiTag" class="tag">24h PSI</span></a></div>

		<!-- PREFERENCE SET TO PM2.5 CENTRAL REGION -->
		<div v-touch:swipe.left="onSwipeLeftItem" v-show="preferCentral" :class="{ 'slide-left': showSlide }" class="sliding">
			<div v-show="showPm25" class="fade-in-left">
				<div v-show="pm25ApiDown" class="box" style="margin: -1em auto 3em auto;">
					<p class="box-header" style="background-color: red;"><strong>üöß Sorry, something broke...</strong></p>
					<div class="info-text">Looks like the data source for the PM2.5 readings is down at the moment. We're working hard to find out when it will be restored. Please check back in a bit.</div>
				</div>
				<div style="font-size: 2em">PM2.5<span class="refreshicon" @click="refresh">&nbsp; &#10227;&#xFE0E;</span></div>
				<div class="pm25-number"><span>&nbsp;</span>{{ pm25 }}<span><a @click="toggleToPsi" style="cursor: pointer;">&nbsp;</a></span></div>
				<div class="index-text">Central</div>
				<div class="index-text"><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('north')">North - {{ pm25north }}</span><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('south')">South - {{ pm25south }}</span><br /><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('east')">East - {{ pm25east }}</span><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('west')">West - {{ pm25west }}</span></div>
				<div class="pulse-group">
					<div class="pulse-circle"></div>
					<img class="pulse-hand" alt="click here pointer hand" src="https://i.ibb.co/KWQPtVJ/double-tap-60px.png" />
				</div>
				<div class="index-text"><a @click="toggleToPsi"><span class="dot"></span><span class="dot" style="height: 10px; width: 10px;"></span></a></div>
				<details class="no-bullets" style="margin-bottom: 1.2em;">
					<summary class="time-box">Updated at {{ pm25time }}.<br />Source: data.gov.sg <span style="display: inline-block; vertical-align: middle;"><svg :fill="getPm25SvgFillColor(pm25)" width="13px" height="13px" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
								<path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z" />
							</svg></span></summary>
					<div class="box">
						<p class="box-header"><strong>What do the background colours for the 1h PM2.5 view mean?</strong></p>
						<div class="info-text" style="text-align: left !important">
							<ul>
								<li><span style="color: #48ffb0;">&#x25FC;&#xFE0E;</span> Green: Band 1 (Normal) 0-5¬µg/m<sup>3</sup></li>
								<li><span style="color: #34adfd;">&#x25FC;&#xFE0E;</span> Blue: Band 2 (Elevated) 56-150¬µg/m<sup>3</sup></li>
								<li><span style="color: #fff51b;">&#x25FC;&#xFE0E;</span> Yellow: Band 3 (High) 151-250¬µg/m<sup>3</sup></li>
								<li><span style="color: #ff5643;">&#x25FC;&#xFE0E;</span> Red: Band 4 (Very high) ‚â•251¬µg/m<sup>3</sup></li>
							</ul>
							<strong>Note:</strong> The National Environment Agency does not use these colours for PM2.5 readings. The colours shown here on psi.sg are our own addition for a better user experience. For more info, see <a href="https://www.haze.gov.sg/" target="_blank">haze.gov.sg</a>.<br /><br />Our data source is from the <a href="https://beta.data.gov.sg/collections/1394/view" target="_blank">PM2.5 dataset</a> accessed from <a href="https://data.gov.sg/" target="_blank">data.gov.sg</a> which is made available under the terms of the <a href="https://beta.data.gov.sg/open-data-license" target="_blank">Singapore Open Data Licence version 1.0</a>.
						</div>
					</div>
				</details>
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Health advisory: What you can do</strong></p>
					<div class="info-text">{{ getPm25Advisory(pm25) }}</div>
				</div>
				<br />
				<div class="box">
					<p class="box-header"><strong><span style="display: inline-block; vertical-align: text-top;"><svg height="0.85em" width="0.8em" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" fill="#FFFFFF">
									<g id="SVGRepo_bgCarrier" stroke-width="0"></g>
									<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
									<g id="SVGRepo_iconCarrier">
										<g>
											<path class="st0" d="M256,0C114.616,0,0,114.612,0,256s114.616,256,256,256s256-114.612,256-256S397.385,0,256,0z M207.678,378.794 c0-17.612,14.281-31.893,31.893-31.893c17.599,0,31.88,14.281,31.88,31.893c0,17.595-14.281,31.884-31.88,31.884 C221.959,410.678,207.678,396.389,207.678,378.794z M343.625,218.852c-3.596,9.793-8.802,18.289-14.695,25.356 c-11.847,14.148-25.888,22.718-37.442,29.041c-7.719,4.174-14.533,7.389-18.769,9.769c-2.905,1.604-4.479,2.95-5.256,3.826 c-0.768,0.926-1.029,1.306-1.496,2.826c-0.273,1.009-0.558,2.612-0.558,5.091c0,6.868,0,12.512,0,12.512 c0,6.472-5.248,11.728-11.723,11.728h-28.252c-6.475,0-11.732-5.256-11.732-11.728c0,0,0-5.645,0-12.512 c0-6.438,0.752-12.744,2.405-18.777c1.636-6.008,4.215-11.718,7.508-16.694c6.599-10.083,15.542-16.802,23.984-21.48 c7.401-4.074,14.723-7.455,21.516-11.281c6.789-3.793,12.843-7.91,17.302-12.372c2.988-2.975,5.31-6.05,7.087-9.52 c2.335-4.628,3.955-10.067,3.992-18.389c0.012-2.463-0.698-5.702-2.632-9.405c-1.926-3.686-5.066-7.694-9.264-11.29 c-8.45-7.248-20.843-12.545-35.054-12.521c-16.285,0.058-27.186,3.876-35.587,8.62c-8.36,4.776-11.029,9.595-11.029,9.595 c-4.268,3.718-10.603,3.85-15.025,0.314l-21.71-17.397c-2.719-2.173-4.322-5.438-4.396-8.926c-0.063-3.479,1.425-6.81,4.061-9.099 c0,0,6.765-10.43,22.451-19.38c15.62-8.992,36.322-15.488,61.236-15.429c20.215,0,38.839,5.562,54.268,14.661 c15.434,9.148,27.897,21.744,35.851,36.876c5.281,10.074,8.525,21.43,8.533,33.38C349.211,198.042,347.248,209.058,343.625,218.852 z"></path>
										</g>
									</g>
								</svg></span> How to use this reading:</strong></p>
					<div class="info-text">Use the 1h PM2.5 readings to decide on <strong>immediate</strong> activities you're planning to do <strong>right now</strong>, like going for a jog.</div>
				</div>
			</div>
		</div>

		<!-- PREFERENCE SET TO PM2.5 NORTH REGION -->
		<div v-touch:swipe.left="onSwipeLeftItem" v-show="preferNorth" :class="{ 'slide-left': showSlide }" class="sliding">
			<div v-show="showPm25" class="fade-in-left">
				<div v-show="pm25ApiDown" class="box" style="margin: -1em auto 3em auto;">
					<p class="box-header" style="background-color: red;"><strong>üöß Sorry, something broke...</strong></p>
					<div class="info-text">Looks like the data source for the PM2.5 readings is down at the moment. We're working hard to find out when it will be restored. Please check back in a bit.</div>
				</div>
				<div style="font-size: 2em">PM2.5<span class="refreshicon" @click="refresh">&nbsp; &#10227;&#xFE0E;</span></div>
				<div class="pm25-number"><span>&nbsp;</span>{{ pm25north }}<span><a @click="toggleToPsi" style="cursor: pointer;">&nbsp;</a></span></div>
				<div class="index-text">North</div>
				<div class="index-text"><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('central')">Central - {{ pm25 }}</span><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('south')">South - {{ pm25south }}</span><br /><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('east')">East - {{ pm25east }}</span><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('west')">West - {{ pm25west }}</span></div>
				<div class="pulse-group">
					<div class="pulse-circle"></div>
					<img class="pulse-hand" alt="click here pointer hand" src="https://i.ibb.co/KWQPtVJ/double-tap-60px.png" />
				</div>
				<div class="index-text"><a @click="toggleToPsi"><span class="dot"></span><span class="dot" style="height: 10px; width: 10px;"></span></a></div>
				<details class="no-bullets" style="margin-bottom: 1.2em;">
					<summary class="time-box">Updated at {{ pm25time }}.<br />Source: data.gov.sg <i class="fa fa-info-circle" aria-hidden="true"></i></summary>
					<div class="box">
						<p class="box-header"><strong>What do the background colours for the 1h PM2.5 view mean?</strong></p>
						<div class="info-text" style="text-align: left !important">
							<ul>
								<li><span style="color: #48ffb0;">&#x25FC;&#xFE0E;</span> Green: Band 1 (Normal) 0-55¬µg/m<sup>3</sup></li>
								<li><span style="color: #34adfd">&#x25FC;&#xFE0E;</span> Blue: Band 2 (Elevated) 56-150¬µg/m<sup>3</sup></li>
								<li><span style="color: #fff51b">&#x25FC;&#xFE0E;</span> Yellow: Band 3 (High) 151-250¬µg/m<sup>3</sup></li>
								<li><span style="color: #ff5643">&#x25FC;&#xFE0E;</span> Red: Band 4 (Very high) ‚â•251¬µg/m<sup>3</sup></li>
							</ul>
							<strong>Note:</strong> The National Environment Agency does not use these colours for PM2.5 readings. The colours shown here on psi.sg are our own addition for a better user experience. For more info, see <a href="https://www.haze.gov.sg/" target="_blank">haze.gov.sg</a>.<br /><br />Our data source is from the <a href="https://beta.data.gov.sg/collections/1394/view" target="_blank">PM2.5 dataset</a> accessed from <a href="https://data.gov.sg/" target="_blank">data.gov.sg</a> which is made available under the terms of the <a href="https://beta.data.gov.sg/open-data-license" target="_blank">Singapore Open Data Licence version 1.0</a>.
						</div>
					</div>
				</details>
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Health advisory: What you can do</strong></p>
					<div class="info-text">{{ getPm25Advisory(pm25north) }}</div>
				</div>
				<br />
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-question-circle" aria-hidden="true"></i> How to use this reading:</strong></p>
					<div class="info-text">Use the 1h PM2.5 readings to decide on <strong>immediate</strong> activities you're planning to do <strong>right now</strong>, like going for a jog.</div>
				</div>
			</div>
		</div>

		<!-- PREFERENCE SET TO PM2.5 SOUTH REGION -->
		<div v-touch:swipe.left="onSwipeLeftItem" v-show="preferSouth" :class="{ 'slide-left': showSlide }" class="sliding">
			<div v-show="showPm25" class="fade-in-left">
				<div v-show="pm25ApiDown" class="box" style="margin: -1em auto 3em auto;">
					<p class="box-header" style="background-color: red;"><strong>üöß Sorry, something broke...</strong></p>
					<div class="info-text">Looks like the data source for the PM2.5 readings is down at the moment. We're working hard to find out when it will be restored. Please check back in a bit.</div>
				</div>
				<div style="font-size: 2em">PM2.5<span class="refreshicon" @click="refresh">&nbsp; &#10227;&#xFE0E;</span></div>
				<div class="pm25-number"><span>&nbsp;</span>{{ pm25south }}<span><a @click="toggleToPsi" style="cursor: pointer;">&nbsp;</a></span></div>
				<div class="index-text">South</div>
				<div class="index-text"><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('north')">North - {{ pm25north }}</span><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('central')">Central - {{ pm25 }}</span><br /><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('east')">East - {{ pm25east }}</span><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('west')">West - {{ pm25west }}</span></div>
				<div class="pulse-group">
					<div class="pulse-circle"></div>
					<img class="pulse-hand" alt="click here pointer hand" src="https://i.ibb.co/KWQPtVJ/double-tap-60px.png" />
				</div>
				<div class="index-text"><a @click="toggleToPsi"><span class="dot"></span><span class="dot" style="height: 10px; width: 10px;"></span></a></div>
				<details class="no-bullets" style="margin-bottom: 1.2em;">
					<summary class="time-box">Updated at {{ pm25time }}.<br />Source: data.gov.sg <i class="fa fa-info-circle" aria-hidden="true"></i></summary>
					<div class="box">
						<p class="box-header"><strong>What do the background colours for the 1h PM2.5 view mean?</strong></p>
						<div class="info-text" style="text-align: left !important">
							<ul>
								<li><span style="color: #48ffb0;">&#x25FC;&#xFE0E;</span> Green: Band 1 (Normal) 0-55¬µg/m<sup>3</sup></li>
								<li><span style="color: #34adfd">&#x25FC;&#xFE0E;</span> Blue: Band 2 (Elevated) 56-150¬µg/m<sup>3</sup></li>
								<li><span style="color: #fff51b">&#x25FC;&#xFE0E;</span> Yellow: Band 3 (High) 151-250¬µg/m<sup>3</sup></li>
								<li><span style="color: #ff5643">&#x25FC;&#xFE0E;</span> Red: Band 4 (Very high) ‚â•251¬µg/m<sup>3</sup></li>
							</ul>
							<strong>Note:</strong> The National Environment Agency does not use these colours for PM2.5 readings. The colours shown here on psi.sg are our own addition for a better user experience. For more info, see <a href="https://www.haze.gov.sg/" target="_blank">haze.gov.sg</a>.<br /><br />Our data source is from the <a href="https://beta.data.gov.sg/collections/1394/view" target="_blank">PM2.5 dataset</a> accessed from <a href="https://data.gov.sg/" target="_blank">data.gov.sg</a> which is made available under the terms of the <a href="https://beta.data.gov.sg/open-data-license" target="_blank">Singapore Open Data Licence version 1.0</a>.
						</div>
					</div>
				</details>
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Health advisory: What you can do</strong></p>
					<div class="info-text">{{ getPm25Advisory(pm25south) }}</div>
				</div>
				<br />
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-question-circle" aria-hidden="true"></i> How to use this reading:</strong></p>
					<div class="info-text">Use the 1h PM2.5 readings to decide on <strong>immediate</strong> activities you're planning to do <strong>right now</strong>, like going for a jog.</div>
				</div>
			</div>
		</div>

		<!-- PREFERENCE SET TO PM2.5 EAST REGION -->
		<div v-touch:swipe.left="onSwipeLeftItem" v-show="preferEast" :class="{ 'slide-left': showSlide }" class="sliding">
			<div v-show="showPm25" class="fade-in-left">
				<div v-show="pm25ApiDown" class="box" style="margin: -1em auto 3em auto;">
					<p class="box-header" style="background-color: red;"><strong>üöß Sorry, something broke...</strong></p>
					<div class="info-text">Looks like the data source for the PM2.5 readings is down at the moment. We're working hard to find out when it will be restored. Please check back in a bit.</div>
				</div>
				<div style="font-size: 2em">PM2.5<span class="refreshicon" @click="refresh">&nbsp; &#10227;&#xFE0E;</span></div>
				<div class="pm25-number"><span>&nbsp;</span>{{ pm25east }}<span><a @click="toggleToPsi" style="cursor: pointer;">&nbsp;</a></span></div>
				<div class="index-text">East</div>
				<div class="index-text"><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('north')">North - {{ pm25north }}</span><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('south')">South - {{ pm25south }}</span><br /><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('central')">Central - {{ pm25 }}</span><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('west')">West - {{ pm25west }}</span></div>
				<div class="pulse-group">
					<div class="pulse-circle"></div>
					<img class="pulse-hand" alt="click here pointer hand" src="https://i.ibb.co/KWQPtVJ/double-tap-60px.png" />
				</div>
				<div class="index-text"><a @click="toggleToPsi"><span class="dot"></span><span class="dot" style="height: 10px; width: 10px;"></span></a></div>
				<details class="no-bullets" style="margin-bottom: 1.2em;">
					<summary class="time-box">Updated at {{ pm25time }}.<br />Source: data.gov.sg <i class="fa fa-info-circle" aria-hidden="true"></i></summary>
					<div class="box">
						<p class="box-header"><strong>What do the background colours for the 1h PM2.5 view mean?</strong></p>
						<div class="info-text" style="text-align: left !important">
							<ul>
								<li><span style="color: #48ffb0;">&#x25FC;&#xFE0E;</span> Green: Band 1 (Normal) 0-55¬µg/m<sup>3</sup></li>
								<li><span style="color: #34adfd">&#x25FC;&#xFE0E;</span> Blue: Band 2 (Elevated) 56-150¬µg/m<sup>3</sup></li>
								<li><span style="color: #fff51b">&#x25FC;&#xFE0E;</span> Yellow: Band 3 (High) 151-250¬µg/m<sup>3</sup></li>
								<li><span style="color: #ff5643">&#x25FC;&#xFE0E;</span> Red: Band 4 (Very high) ‚â•251¬µg/m<sup>3</sup></li>
							</ul>
							<strong>Note:</strong> The National Environment Agency does not use these colours for PM2.5 readings. The colours shown here on psi.sg are our own addition for a better user experience. For more info, see <a href="https://www.haze.gov.sg/" target="_blank">haze.gov.sg</a>.<br /><br />Our data source is from the <a href="https://beta.data.gov.sg/collections/1394/view" target="_blank">PM2.5 dataset</a> accessed from <a href="https://data.gov.sg/" target="_blank">data.gov.sg</a> which is made available under the terms of the <a href="https://beta.data.gov.sg/open-data-license" target="_blank">Singapore Open Data Licence version 1.0</a>.
						</div>
					</div>
				</details>
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Health advisory: What you can do</strong></p>
					<div class="info-text">{{ getPm25Advisory(pm25east) }}</div>
				</div>
				<br />
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-question-circle" aria-hidden="true"></i> How to use this reading:</strong></p>
					<div class="info-text">Use the 1h PM2.5 readings to decide on <strong>immediate</strong> activities you're planning to do <strong>right now</strong>, like going for a jog.</div>
				</div>
			</div>
		</div>

		<!-- PREFERENCE SET TO PM2.5 WEST REGION -->
		<div v-touch:swipe.left="onSwipeLeftItem" v-show="preferWest" :class="{ 'slide-left': showSlide }" class="sliding">
			<div v-show="showPm25" class="fade-in-left">
				<div v-show="pm25ApiDown" class="box" style="margin: -1em auto 3em auto;">
					<p class="box-header" style="background-color: red;"><strong>üöß Sorry, something broke...</strong></p>
					<div class="info-text">Looks like the data source for the PM2.5 readings is down at the moment. We're working hard to find out when it will be restored. Please check back in a bit.</div>
				</div>
				<div style="font-size: 2em">PM2.5<span class="refreshicon" @click="refresh">&nbsp; &#10227;&#xFE0E;</span></div>
				<div class="pm25-number"><span>&nbsp;</span>{{ pm25west }}<span><a @click="toggleToPsi" style="cursor: pointer;">&nbsp;</a></span></div>
				<div class="index-text">West</div>
				<div class="index-text"><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('north')">North - {{ pm25north }}</span><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('south')">South - {{ pm25south }}</span><br /><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('east')">East - {{ pm25east }}</span><span class="region-tag" style="cursor: pointer;" @click="toggleRegion('central')">Central - {{ pm25 }}</span></div>
				<div class="pulse-group">
					<div class="pulse-circle"></div>
					<img class="pulse-hand" alt="click here pointer hand" src="https://i.ibb.co/KWQPtVJ/double-tap-60px.png" />
				</div>
				<div class="index-text"><a @click="toggleToPsi"><span class="dot"></span><span class="dot" style="height: 10px; width: 10px;"></span></a></div>
				<details class="no-bullets" style="margin-bottom: 1.2em;">
					<summary class="time-box">Updated at {{ pm25time }}.<br />Source: data.gov.sg <i class="fa fa-info-circle" aria-hidden="true"></i></summary>
					<div class="box">
						<p class="box-header"><strong>What do the background colours for the 1h PM2.5 view mean?</strong></p>
						<div class="info-text" style="text-align: left !important">
							<ul>
								<li><span style="color: #48ffb0;">&#x25FC;&#xFE0E;</span> Green: Band 1 (Normal) 0-55¬µg/m<sup>3</sup></li>
								<li><span style="color: #34adfd">&#x25FC;&#xFE0E;</span> Blue: Band 2 (Elevated) 56-150¬µg/m<sup>3</sup></li>
								<li><span style="color: #fff51b">&#x25FC;&#xFE0E;</span> Yellow: Band 3 (High) 151-250¬µg/m<sup>3</sup></li>
								<li><span style="color: #ff5643">&#x25FC;&#xFE0E;</span> Red: Band 4 (Very high) ‚â•251¬µg/m<sup>3</sup></li>
							</ul>
							<strong>Note:</strong> The National Environment Agency does not use these colours for PM2.5 readings. The colours shown here on psi.sg are our own addition for a better user experience. For more info, see <a href="https://www.haze.gov.sg/" target="_blank">haze.gov.sg</a>.<br /><br />Our data source is from the <a href="https://beta.data.gov.sg/collections/1394/view" target="_blank">PM2.5 dataset</a> accessed from <a href="https://data.gov.sg/" target="_blank">data.gov.sg</a> which is made available under the terms of the <a href="https://beta.data.gov.sg/open-data-license" target="_blank">Singapore Open Data Licence version 1.0</a>.
						</div>
					</div>
				</details>
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Health advisory: What you can do</strong></p>
					<div class="info-text">{{ getPm25Advisory(pm25west) }}</div>
				</div>
				<br />
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-question-circle" aria-hidden="true"></i> How to use this reading:</strong></p>
					<div class="info-text">Use the 1h PM2.5 readings to decide on <strong>immediate</strong> activities you're planning to do <strong>right now</strong>, like going for a jog.</div>
				</div>
			</div>
		</div>

		<!-- PREFERENCE SET TO PSI NATIONAL -->
		<!-- <div v-touch:swipe.right="onSwipeRightItem" v-show="preferPsiNational" :class="{ 'slide-right': !showSlide }" class="sliding" style="display: none !important;"> -->
		<div v-touch:swipe.right="onSwipeRightItem" :class="{ 'slide-right': !showSlide }" class="sliding" style="display: none !important;">
			<div v-show="showPSI" class="fade-in-right">
				<div v-show="psiApiDown || psiNationalDown" class="box" style="margin: -1em auto 3em auto;">
					<p class="box-header" style="background-color: red;"><strong>üöß Sorry, something broke...</strong></p>
					<div class="info-text">Looks like the data source for the PSI readings is down at the moment. We're working hard to find out when it will be restored. Please check back in a bit.</div>
				</div>
				<div style="font-size: 2em">PSI<span class="refreshicon" style="cursor: pointer" @click="refresh">&nbsp; &#10227;&#xFE0E;</span></div>
				<div class="psi-number"><span><a @click="toggleToPm25" style="cursor: pointer;">&nbsp;</a></span>{{ psi }}<span>&nbsp;</span></div>
				<div class="index-text">National</div>
				<div class="index-text"><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('north')">North - {{ psinorth }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('south')">South - {{ psisouth }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('east')">East - {{ psieast }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('west')">West - {{ psiwest }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('central')">Central - {{ psicentral }}</span></div>
				<div class="pulse-group">
					<div class="pulse-circle"></div>
					<img class="pulse-hand" alt="click here pointer hand" src="https://i.ibb.co/KWQPtVJ/double-tap-60px.png" />
				</div>
				<div class="index-text"><a @click="toggleToPm25"><span class="dot" style="height: 10px; width: 10px;"></span><span class="dot"></span></a></div>
				<details class="no-bullets" style="margin-bottom: 1.2em;">
					<summary class="time-box">Updated at {{ psitime }}.<br />Source: data.gov.sg <i class="fa fa-info-circle" aria-hidden="true"></i></summary>
					<div class="box">
						<p class="box-header"><strong>What do the background colours for the 24h PSI view mean?</strong></p>
						<div class="info-text" style="text-align: left !important">
							<ul>
								<li><span style="color: #2FA451;">&#x25FC;&#xFE0E;</span> Green: Good - 0-50</li>
								<li><span style="color: #0298D6;">&#x25FC;&#xFE0E;</span> Blue: Moderate - 51-100</li>
								<li><span style="color: #FFAC30;">&#x25FC;&#xFE0E;</span> Yellow: Unhealthy - 101-200</li>
								<li><span style="color: #F79434;">&#x25FC;&#xFE0E;</span> Orange: Very unhealthy - 201-300</li>
								<li><span style="color: #E11B2C;">&#x25FC;&#xFE0E;</span> Red: Hazardous - ‚â•300</li>
							</ul>
							<strong>Note:</strong> The background colours for the 24h PSI readings here on psi.sg follows the colour banding used by the National Environment Agency. For more info, see <a href="https://www.haze.gov.sg/" target="_blank">haze.gov.sg</a>.<br /><br />Our data source is from the <a href="https://beta.data.gov.sg/collections/1396/view" target="_blank">PSI dataset</a> accessed from <a href="https://data.gov.sg/" target="_blank">data.gov.sg</a> which is made available under the terms of the <a href="https://beta.data.gov.sg/open-data-license" target="_blank">Singapore Open Data Licence version 1.0</a>.
						</div>
					</div>
				</details>
				<!-- <p class="output">Current Touch Event:
				<span class="event">{{ name }}</span>
			</p> -->
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Health advisory: What you can do</strong></p>
					<div class="info-text">{{ getPsiAdvisory(psi) }}</div>
				</div>
				<br />
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-question-circle" aria-hidden="true"></i> How to use this reading:</strong></p>
					<div class="info-text">Use the 24h PSI forecast to plan your outdoor activities for <strong>tomorrow</strong>, like going to the beach.</div>
				</div>
			</div>
		</div>

		<!-- PREFERENCE SET TO PSI CENTRAL REGION -->
		<div v-touch:swipe.right="onSwipeRightItem" v-show="preferPsiCentral" :class="{ 'slide-right': !showSlide }" class="sliding">
			<div v-show="showPSI" class="fade-in-right">
				<div v-show="psiApiDown" class="box" style="margin: -1em auto 3em auto;">
					<p class="box-header" style="background-color: red;"><strong>üöß Sorry, something broke...</strong></p>
					<div class="info-text">Looks like the data source for the PSI readings is down at the moment. We're working hard to find out when it will be restored. Please check back in a bit.</div>
				</div>
				<div style="font-size: 2em">PSI<span class="refreshicon" style="cursor: pointer" @click="refresh">&nbsp; &#10227;&#xFE0E;</span></div>
				<div class="psi-number"><span><a @click="toggleToPm25" style="cursor: pointer;">&nbsp;</a></span>{{ psicentral }}<span>&nbsp;</span></div>
				<div class="index-text">Central</div>
				<div class="index-text"><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('north')">North - {{ psinorth }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('south')">South - {{ psisouth }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('east')">East - {{ psieast }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('west')">West - {{ psiwest }}</span><span class="region-tag" style="cursor: pointer; display: none;" @click="togglePsiRegion('national')">National - {{ psi }}</span></div>
				<div class="pulse-group">
					<div class="pulse-circle"></div>
					<img class="pulse-hand" alt="click here pointer hand" src="https://i.ibb.co/KWQPtVJ/double-tap-60px.png" />
				</div>
				<div class="index-text"><a @click="toggleToPm25"><span class="dot" style="height: 10px; width: 10px;"></span><span class="dot"></span></a></div>
				<details class="no-bullets" style="margin-bottom: 1.2em;">
					<summary class="time-box">Updated at {{ psitime }}.<br />Source: data.gov.sg <i class="fa fa-info-circle" aria-hidden="true"></i></summary>
					<div class="box">
						<p class="box-header"><strong>What do the background colours for the 24h PSI view mean?</strong></p>
						<div class="info-text" style="text-align: left !important">
							<ul>
								<li><span style="color: #2FA451;">&#x25FC;&#xFE0E;</span> Green: Good - 0-50</li>
								<li><span style="color: #0298D6;">&#x25FC;&#xFE0E;</span> Blue: Moderate - 51-100</li>
								<li><span style="color: #FFAC30;">&#x25FC;&#xFE0E;</span> Yellow: Unhealthy - 101-200</li>
								<li><span style="color: #F79434;">&#x25FC;&#xFE0E;</span> Orange: Very unhealthy - 201-300</li>
								<li><span style="color: #E11B2C;">&#x25FC;&#xFE0E;</span> Red: Hazardous - ‚â•300</li>
							</ul>
							<strong>Note:</strong> The background colours for the 24h PSI readings here on psi.sg follows the colour banding used by the National Environment Agency. For more info, see <a href="https://www.haze.gov.sg/" target="_blank">haze.gov.sg</a>.<br /><br />Our data source is from the <a href="https://beta.data.gov.sg/collections/1396/view" target="_blank">PSI dataset</a> accessed from <a href="https://data.gov.sg/" target="_blank">data.gov.sg</a> which is made available under the terms of the <a href="https://beta.data.gov.sg/open-data-license" target="_blank">Singapore Open Data Licence version 1.0</a>.
						</div>
					</div>
				</details>
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Health advisory: What you can do</strong></p>
					<div class="info-text">{{ getPsiAdvisory(psicentral) }}</div>
				</div>
				<br />
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-question-circle" aria-hidden="true"></i> How to use this reading:</strong></p>
					<div class="info-text">Use the 24h PSI forecast to plan your outdoor activities for <strong>tomorrow</strong>, like going to the beach.</div>
				</div>
			</div>
		</div>

		<!-- PREFERENCE SET TO PSI NORTH REGION -->
		<div v-touch:swipe.right="onSwipeRightItem" v-show="preferPsiNorth" :class="{ 'slide-right': !showSlide }" class="sliding">
			<div v-show="showPSI" class="fade-in-right">
				<div v-show="psiApiDown" class="box" style="margin: -1em auto 3em auto;">
					<p class="box-header" style="background-color: red;"><strong>üöß Sorry, something broke...</strong></p>
					<div class="info-text">Looks like the data source for the PSI readings is down at the moment. We're working hard to find out when it will be restored. Please check back in a bit.</div>
				</div>
				<div style="font-size: 2em">PSI<span class="refreshicon" style="cursor: pointer" @click="refresh">&nbsp; &#10227;&#xFE0E;</span></div>
				<div class="psi-number"><span><a @click="toggleToPm25" style="cursor: pointer;">&nbsp;</a></span>{{ psinorth }}<span>&nbsp;</span></div>
				<div class="index-text">North</div>
				<div class="index-text"><span class="region-tag" style="cursor: pointer; display: none;" @click="togglePsiRegion('national')">National - {{ psi }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('south')">South - {{ psisouth }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('east')">East - {{ psieast }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('west')">West - {{ psiwest }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('central')">Central - {{ psicentral }}</span></div>
				<div class="pulse-group">
					<div class="pulse-circle"></div>
					<img class="pulse-hand" alt="click here pointer hand" src="https://i.ibb.co/KWQPtVJ/double-tap-60px.png" />
				</div>
				<div class="index-text"><a @click="toggleToPm25"><span class="dot" style="height: 10px; width: 10px;"></span><span class="dot"></span></a></div>
				<details class="no-bullets" style="margin-bottom: 1.2em;">
					<summary class="time-box">Updated at {{ psitime }}.<br />Source: data.gov.sg <i class="fa fa-info-circle" aria-hidden="true"></i></summary>
					<div class="box">
						<p class="box-header"><strong>What do the background colours for the 24h PSI view mean?</strong></p>
						<div class="info-text" style="text-align: left !important">
							<ul>
								<li><span style="color: #2FA451;">&#x25FC;&#xFE0E;</span> Green: Good - 0-50</li>
								<li><span style="color: #0298D6;">&#x25FC;&#xFE0E;</span> Blue: Moderate - 51-100</li>
								<li><span style="color: #FFAC30;">&#x25FC;&#xFE0E;</span> Yellow: Unhealthy - 101-200</li>
								<li><span style="color: #F79434;">&#x25FC;&#xFE0E;</span> Orange: Very unhealthy - 201-300</li>
								<li><span style="color: #E11B2C;">&#x25FC;&#xFE0E;</span> Red: Hazardous - ‚â•300</li>
							</ul>
							<strong>Note:</strong> The background colours for the 24h PSI readings here on psi.sg follows the colour banding used by the National Environment Agency. For more info, see <a href="https://www.haze.gov.sg/" target="_blank">haze.gov.sg</a>.<br /><br />Our data source is from the <a href="https://beta.data.gov.sg/collections/1396/view" target="_blank">PSI dataset</a> accessed from <a href="https://data.gov.sg/" target="_blank">data.gov.sg</a> which is made available under the terms of the <a href="https://beta.data.gov.sg/open-data-license" target="_blank">Singapore Open Data Licence version 1.0</a>.
						</div>
					</div>
				</details>
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Health advisory: What you can do</strong></p>
					<div class="info-text">{{ getPsiAdvisory(psinorth) }}</div>
				</div>
				<br />
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-question-circle" aria-hidden="true"></i> How to use this reading:</strong></p>
					<div class="info-text">Use the 24h PSI forecast to plan your outdoor activities for <strong>tomorrow</strong>, like going to the beach.</div>
				</div>
			</div>
		</div>

		<!-- PREFERENCE SET TO PSI SOUTH REGION -->
		<div v-touch:swipe.right="onSwipeRightItem" v-show="preferPsiSouth" :class="{ 'slide-right': !showSlide }" class="sliding">
			<div v-show="showPSI" class="fade-in-right">
				<div v-show="psiApiDown" class="box" style="margin: -1em auto 3em auto;">
					<p class="box-header" style="background-color: red;"><strong>üöß Sorry, something broke...</strong></p>
					<div class="info-text">Looks like the data source for the PSI readings is down at the moment. We're working hard to find out when it will be restored. Please check back in a bit.</div>
				</div>
				<div style="font-size: 2em">PSI<span class="refreshicon" style="cursor: pointer" @click="refresh">&nbsp; &#10227;&#xFE0E;</span></div>
				<div class="psi-number"><span><a @click="toggleToPm25" style="cursor: pointer;">&nbsp;</a></span>{{ psisouth }}<span>&nbsp;</span></div>
				<div class="index-text">South</div>
				<div class="index-text"><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('north')">North - {{ psinorth }}</span><span class="region-tag" style="cursor: pointer; display: none;" @click="togglePsiRegion('national')">National - {{ psi }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('east')">East - {{ psieast }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('west')">West - {{ psiwest }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('central')">Central - {{ psicentral }}</span></div>
				<div class="pulse-group">
					<div class="pulse-circle"></div>
					<img class="pulse-hand" alt="click here pointer hand" src="https://i.ibb.co/KWQPtVJ/double-tap-60px.png" />
				</div>
				<div class="index-text"><a @click="toggleToPm25"><span class="dot" style="height: 10px; width: 10px;"></span><span class="dot"></span></a></div>
				<details class="no-bullets" style="margin-bottom: 1.2em;">
					<summary class="time-box">Updated at {{ psitime }}.<br />Source: data.gov.sg <i class="fa fa-info-circle" aria-hidden="true"></i></summary>
					<div class="box">
						<p class="box-header"><strong>What do the background colours for the 24h PSI view mean?</strong></p>
						<div class="info-text" style="text-align: left !important">
							<ul>
								<li><span style="color: #2FA451;">&#x25FC;&#xFE0E;</span> Green: Good - 0-50</li>
								<li><span style="color: #0298D6;">&#x25FC;&#xFE0E;</span> Blue: Moderate - 51-100</li>
								<li><span style="color: #FFAC30;">&#x25FC;&#xFE0E;</span> Yellow: Unhealthy - 101-200</li>
								<li><span style="color: #F79434;">&#x25FC;&#xFE0E;</span> Orange: Very unhealthy - 201-300</li>
								<li><span style="color: #E11B2C;">&#x25FC;&#xFE0E;</span> Red: Hazardous - ‚â•300</li>
							</ul>
							<strong>Note:</strong> The background colours for the 24h PSI readings here on psi.sg follows the colour banding used by the National Environment Agency. For more info, see <a href="https://www.haze.gov.sg/" target="_blank">haze.gov.sg</a>.<br /><br />Our data source is from the <a href="https://beta.data.gov.sg/collections/1396/view" target="_blank">PSI dataset</a> accessed from <a href="https://data.gov.sg/" target="_blank">data.gov.sg</a> which is made available under the terms of the <a href="https://beta.data.gov.sg/open-data-license" target="_blank">Singapore Open Data Licence version 1.0</a>.
						</div>
					</div>
				</details>
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Health advisory: What you can do</strong></p>
					<div class="info-text">{{ getPsiAdvisory(psisouth) }}</div>
				</div>
				<br />
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-question-circle" aria-hidden="true"></i> How to use this reading:</strong></p>
					<div class="info-text">Use the 24h PSI forecast to plan your outdoor activities for <strong>tomorrow</strong>, like going to the beach.</div>
				</div>
			</div>
		</div>

		<!-- PREFERENCE SET TO PSI EAST REGION -->
		<div v-touch:swipe.right="onSwipeRightItem" v-show="preferPsiEast" :class="{ 'slide-right': !showSlide }" class="sliding">
			<div v-show="showPSI" class="fade-in-right">
				<div v-show="psiApiDown" class="box" style="margin: -1em auto 3em auto;">
					<p class="box-header" style="background-color: red;"><strong>üöß Sorry, something broke...</strong></p>
					<div class="info-text">Looks like the data source for the PSI readings is down at the moment. We're working hard to find out when it will be restored. Please check back in a bit.</div>
				</div>
				<div style="font-size: 2em">PSI<span class="refreshicon" style="cursor: pointer" @click="refresh">&nbsp; &#10227;&#xFE0E;</span></div>
				<div class="psi-number"><span><a @click="toggleToPm25" style="cursor: pointer;">&nbsp;</a></span>{{ psieast }}<span>&nbsp;</span></div>
				<div class="index-text">East</div>
				<div class="index-text"><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('north')">North - {{ psinorth }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('south')">South - {{ psisouth }}</span><span class="region-tag" style="cursor: pointer; display: none;" @click="togglePsiRegion('national')">National - {{ psi }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('west')">West - {{ psiwest }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('central')">Central - {{ psicentral }}</span></div>
				<div class="pulse-group">
					<div class="pulse-circle"></div>
					<img class="pulse-hand" alt="click here pointer hand" src="https://i.ibb.co/KWQPtVJ/double-tap-60px.png" />
				</div>
				<div class="index-text"><a @click="toggleToPm25"><span class="dot" style="height: 10px; width: 10px;"></span><span class="dot"></span></a></div>
				<details class="no-bullets" style="margin-bottom: 1.2em;">
					<summary class="time-box">Updated at {{ psitime }}.<br />Source: data.gov.sg <i class="fa fa-info-circle" aria-hidden="true"></i></summary>
					<div class="box">
						<p class="box-header"><strong>What do the background colours for the 24h PSI view mean?</strong></p>
						<div class="info-text" style="text-align: left !important">
							<ul>
								<li><span style="color: #2FA451;">&#x25FC;&#xFE0E;</span> Green: Good - 0-50</li>
								<li><span style="color: #0298D6;">&#x25FC;&#xFE0E;</span> Blue: Moderate - 51-100</li>
								<li><span style="color: #FFAC30;">&#x25FC;&#xFE0E;</span> Yellow: Unhealthy - 101-200</li>
								<li><span style="color: #F79434;">&#x25FC;&#xFE0E;</span> Orange: Very unhealthy - 201-300</li>
								<li><span style="color: #E11B2C;">&#x25FC;&#xFE0E;</span> Red: Hazardous - ‚â•300</li>
							</ul>
							<strong>Note:</strong> The background colours for the 24h PSI readings here on psi.sg follows the colour banding used by the National Environment Agency. For more info, see <a href="https://www.haze.gov.sg/" target="_blank">haze.gov.sg</a>.<br /><br />Our data source is from the <a href="https://beta.data.gov.sg/collections/1396/view" target="_blank">PSI dataset</a> accessed from <a href="https://data.gov.sg/" target="_blank">data.gov.sg</a> which is made available under the terms of the <a href="https://beta.data.gov.sg/open-data-license" target="_blank">Singapore Open Data Licence version 1.0</a>.
						</div>
					</div>
				</details>
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Health advisory: What you can do</strong></p>
					<div class="info-text">{{ getPsiAdvisory(psieast) }}</div>
				</div>
				<br />
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-question-circle" aria-hidden="true"></i> How to use this reading:</strong></p>
					<div class="info-text">Use the 24h PSI forecast to plan your outdoor activities for <strong>tomorrow</strong>, like going to the beach.</div>
				</div>
			</div>
		</div>

		<!-- PREFERENCE SET TO PSI WEST REGION -->
		<div v-touch:swipe.right="onSwipeRightItem" v-show="preferPsiWest" :class="{ 'slide-right': !showSlide }" class="sliding">
			<div v-show="showPSI" class="fade-in-right">
				<div v-show="psiApiDown" class="box" style="margin: -1em auto 3em auto;">
					<p class="box-header" style="background-color: red;"><strong>üöß Sorry, something broke...</strong></p>
					<div class="info-text">Looks like the data source for the PSI readings is down at the moment. We're working hard to find out when it will be restored. Please check back in a bit.</div>
				</div>
				<div style="font-size: 2em">PSI<span class="refreshicon" style="cursor: pointer" @click="refresh">&nbsp; &#10227;&#xFE0E;</span></div>
				<div class="psi-number"><span><a @click="toggleToPm25" style="cursor: pointer;">&nbsp;</a></span>{{ psiwest }}<span>&nbsp;</span></div>
				<div class="index-text">West</div>
				<div class="index-text"><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('north')">North - {{ psinorth }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('south')">South - {{ psisouth }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('east')">East - {{ psieast }}</span><span class="region-tag" style="cursor: pointer; display: none;" @click="togglePsiRegion('national')">National - {{ psi }}</span><span class="region-tag" style="cursor: pointer;" @click="togglePsiRegion('central')">Central - {{ psicentral }}</span></div>
				<div class="pulse-group">
					<div class="pulse-circle"></div>
					<img class="pulse-hand" alt="click here pointer hand" src="https://i.ibb.co/KWQPtVJ/double-tap-60px.png" />
				</div>
				<div class="index-text"><a @click="toggleToPm25"><span class="dot" style="height: 10px; width: 10px;"></span><span class="dot"></span></a></div>
				<details class="no-bullets" style="margin-bottom: 1.2em;">
					<summary class="time-box">Updated at {{ psitime }}.<br />Source: data.gov.sg <i class="fa fa-info-circle" aria-hidden="true"></i></summary>
					<div class="box">
						<p class="box-header"><strong>What do the background colours for the 24h PSI view mean?</strong></p>
						<div class="info-text" style="text-align: left !important">
							<ul>
								<li><span style="color: #2FA451;">&#x25FC;&#xFE0E;</span> Green: Good - 0-50</li>
								<li><span style="color: #0298D6;">&#x25FC;&#xFE0E;</span> Blue: Moderate - 51-100</li>
								<li><span style="color: #FFAC30;">&#x25FC;&#xFE0E;</span> Yellow: Unhealthy - 101-200</li>
								<li><span style="color: #F79434;">&#x25FC;&#xFE0E;</span> Orange: Very unhealthy - 201-300</li>
								<li><span style="color: #E11B2C;">&#x25FC;&#xFE0E;</span> Red: Hazardous - ‚â•300</li>
							</ul>
							<strong>Note:</strong> The background colours for the 24h PSI readings here on psi.sg follows the colour banding used by the National Environment Agency. For more info, see <a href="https://www.haze.gov.sg/" target="_blank">haze.gov.sg</a>.<br /><br />Our data source is from the <a href="https://beta.data.gov.sg/collections/1396/view" target="_blank">PSI dataset</a> accessed from <a href="https://data.gov.sg/" target="_blank">data.gov.sg</a> which is made available under the terms of the <a href="https://beta.data.gov.sg/open-data-license" target="_blank">Singapore Open Data Licence version 1.0</a>.
						</div>
					</div>
				</details>
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Health advisory: What you can do</strong></p>
					<div class="info-text">{{ getPsiAdvisory(psiwest) }}</div>
				</div>
				<br />
				<div class="box">
					<p class="box-header"><strong><i class="fa fa-question-circle" aria-hidden="true"></i> How to use this reading:</strong></p>
					<div class="info-text">Use the 24h PSI forecast to plan your outdoor activities for <strong>tomorrow</strong>, like going to the beach.</div>
				</div>
			</div>
		</div>

		<br /><br />
		‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
		<br /><br />
		<div class="footer">
			<p> &#9660;&#xFE0E; Made by <a href="https://buymeacoffee.com/jasonleowsg" style="color: inherit !important" target="_blank">@jasonleowsg</a>. For feedback/bug reports, <a href="https://forms.gle/ErfbRYRh4Q4TjcvE9" style="color: inherit !important" target="_blank">contact me here</a>. If you like this, please support more community projects by buying me a coffee. </p>
			<br />
			<a href="https://www.buymeacoffee.com/jasonleowsg" target="_blank" style="border-color: #eee !important;"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 42px !important;width: 150px !important"></a>
		</div>
		<br /><br /><br />
		<details class="footer">
			<summary>Add this web app to your phone's home screen! Here's how: <i class="fa fa-info-circle" aria-hidden="true"></i></summary>
			<div class="box" style="margin-top: 1em; text-align: left !important; padding: 0.8em 2em 1.2em 2em;">
				<p><strong>iOS</strong></p>
				<ul>
					<li>Open this site in Safari</li>
					<li>Tap on Share button</li>
					<li>Select Add to Home Screen</li>
				</ul>

				<p><strong>Android</strong></p>
				<ul>
					<li>Open this site in Chrome</li>
					<li>Tap on the menu icon (3 dots in upper right-hand corner)</li>
					<li>Tap Add to home screen</li>
				</ul>
			</div>
		</details>
		<br />
	</div>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.7.8/vue.min.js"></script>
	<script async src="https://cdn.jsdelivr.net/npm/vue2-touch-events@3.2.3/index.min.js"></script>
	<script>
		new Vue({
			el: '#app',
			data: {
				psi: '',
				psicentral: ' ',
				psinorth: ' ',
				psisouth: ' ',
				psieast: ' ',
				psiwest: ' ',
				psitime: ' ',
				pm25: ' ',
				pm25north: ' ',
				pm25south: ' ',
				pm25east: ' ',
				pm25west: ' ',
				pm25time: ' ',
				showPm25: true,
				showPSI: false,
				//psiText: '',
				//pm25Text: '',
				preferCentral: true,
				preferNorth: false,
				preferSouth: false,
				preferEast: false,
				preferWest: false,
				preferPsiNational: true,
				preferPsiCentral: false,
				preferPsiNorth: false,
				preferPsiSouth: false,
				preferPsiEast: false,
				preferPsiWest: false,
				name: "none",
				showSlide: false,
				pm25ApiDown: false,
				psiApiDown: false,
				//updatedOnce: false,
				psiNationalDown: false,
				psiCentralDown: false,
				psiNorthDown: false,
				psiSouthDown: false,
				psiEastDown: false,
				psiWestDown: false,
			},
			created() {
				this.fetchAirQualityData();
				// You can set an interval to update the data periodically
				// setInterval(this.fetchAirQualityData, 60000); // Update every minute 
			},
			mounted() {
				this.detectAppOpened();
				this.setRegion();
				this.setPsiRegion();
				//this.changePm25BackgroundColor();
				//this.changePsiBackgroundColor();
				this.getPsiAdvisory();
				this.getPm25Advisory();
				this.initialSetPm25BackgroundColor();
				this.leftRightToggle();
			},
			updated() {
				// this runs the setpm25bg function ONLY after the data variables are rendered.
				/*if (!this.updatedOnce) {
					this.initialSetPm25BackgroundColor();
					this.updatedOnce = true; // to run the setpm25bg function just once instead of every time the DOM updates, cos the updated hook is called every time the component's DOM is updated
				} */
			},
			methods: {
				// unfinished function to show alerts when specific region data is missing/down, not api down 
				regionDownAlert() {
					if (this.psi === undefined) {
						this.psiNationalDown = true;
					}
				},
				leftRightToggle() {
					window.addEventListener('keydown', (e) => {
						if (e.key == 'ArrowLeft') {
							this.toggleToPm25();
							console.log('left arrow key hit')
						} else if (e.key == 'ArrowRight') {
							this.toggleToPsi();
							//this.showPSI = !this.showPSI
							//this.showPm25 = !this.showPm25
							console.log('right arrow key hit')
						}
					})
				},
				detectAppOpened() {
					document.addEventListener("visibilitychange", () => {
						if (document.visibilityState === "visible") {
							location.reload(true);
							console.log("location.reload");
							//this.initialSetPm25BackgroundColor();
						} else {
							// The tab or window is now inactive
						}
					});
				},
				// the below function is no longer in use. Reload browser is better than refreshing the data because sometimes the app doesn't reflect new features
				/*detectAppOpened() {
					document.addEventListener("visibilitychange", () => {
						if (document.visibilityState === "visible") {
							this.toggleToPm25();
							this.fetchAirQualityData();
							console.log("this.toggleToPm25()");
							location.reload(true);
							console.log("location.reload");
						} else {
							// The tab or window is now inactive
						}
					});
				},*/
				nameCurrentEvent(name) {
					this.name = name;
					console.log(name);
				},
				onSwipeLeftItem() {
					this.name = "swiped left";
					this.toggleToPsi();
				},
				onSwipeRightItem() {
					this.name = "swiped right";
					this.toggleToPm25();
				},
				fetchAirQualityData() {
					// https://api.data.gov.sg/v1/environment/psi
					fetch('https://api-open.data.gov.sg/v2/real-time/api/psi')
						.then(response => response.json())
						.then(data => {
							const items = data.items[0];
							//console.log("psi items", items)
							this.psitime = this.getLocaleTimestamp(items.update_timestamp)
							//console.log("psi items.update_timestamp", items.update_timestamp)
							//console.log("this.psitime", this.psitime)
							this.psi = items.readings.psi_twenty_four_hourly.national;
							console.log("this.psi", this.psi)
							this.psicentral = items.readings.psi_twenty_four_hourly.central;
							this.psinorth = items.readings.psi_twenty_four_hourly.north;
							this.psisouth = items.readings.psi_twenty_four_hourly.south;
							this.psieast = items.readings.psi_twenty_four_hourly.east;
							this.psiwest = items.readings.psi_twenty_four_hourly.west;
						})
						.catch(error => {
							console.error('Error fetching data:', error);
							this.psiApiDown = true;
						});
					// https://api.data.gov.sg/v1/environment/pm25
					fetch('https://api.data.gov.sg/v1/environment/pm25')
						.then(response => response.json())
						.then(data => {
							const items = data.items[0];
							//console.log("pm25 items", items)
							this.pm25time = this.getLocaleTimestamp(items.update_timestamp)
							//console.log("pm25 items.update_timestamp", items.update_timestamp)
							//console.log("this.pm25time", this.pm25time)
							this.pm25 = items.readings.pm25_one_hourly.central
							console.log("this.pm25", this.pm25)
							this.pm25north = items.readings.pm25_one_hourly.north
							this.pm25south = items.readings.pm25_one_hourly.south
							this.pm25east = items.readings.pm25_one_hourly.east
							this.pm25west = items.readings.pm25_one_hourly.west
						})
						.catch(error => {
							console.error('Error fetching data:', error);
							this.pm25ApiDown = true;
						});
				},
				getLocaleTimestamp(t) {
					const localDate = new Date(t).toLocaleDateString("en-SG", {
						day: "2-digit",
						month: "short",
						year: "numeric",
						hour: "2-digit",
						minute: "2-digit",
						hour12: true
					});
					console.log(localDate);
					return localDate;
				},
				getPsiBackgroundColor(value) {
					if (value === '') return 'grey';
					else if (value === " ") return 'grey';
					else if (value <= 50 && value >= 0) return 'green';
					else if (value <= 100) return 'blue';
					else if (value <= 200) return 'yellow';
					else if (value <= 300) return 'orange';
					else if (value > 300) return 'red';
					else return 'grey';
				},
				/*getPsiBackgroundColor(value) {
					document.body.classList.remove('lightgreen', 'lightblue', 'lightyellow', 'lightred', 'grey');
					if (value === '') {
						document.body.classList.add('grey');
						return 'grey';
					} else if (value === " ") {
						document.body.classList.add('grey');
						return 'grey';
					} else if (value <= 50 && value >= 0) {
						document.body.classList.add('green');
						return 'green';
					} else if (value <= 100) {
						document.body.classList.add('blue');
						return 'blue';
					} else if (value <= 200) {
						document.body.classList.add('yellow');
						return 'yellow';
					} else if (value <= 300) {
						document.body.classList.add('orange');
						return 'orange';
					} else if (value > 300) {
						document.body.classList.add('red');
						return 'red';
					} else {
						document.body.classList.add('grey');
						return 'grey';
					}
				},*/
				getPm25BackgroundColor(value) {
					if (value === '') return 'grey';
					else if (value === " ") return 'grey';
					else if (value <= 55 && value >= 0) return 'lightgreen';
					else if (value <= 150) return 'lightblue';
					else if (value <= 250) return 'lightyellow';
					else if (value > 250) return 'lightred';
					else return 'grey';
				},
				/*getPm25BackgroundColor(value) {
					document.body.classList.remove('green', 'blue', 'yellow', 'orange', 'red', 'grey');
					if (value === '') {
						document.body.classList.add('grey');
						return 'grey';
					} else if (value === " ") {
						document.body.classList.add('grey');
						return 'grey';
					} else if (value <= 55 && value >= 0) {
						document.body.classList.add('lightgreen');
						return 'lightgreen';
					} else if (value <= 150) {
						document.body.classList.add('lightblue');
						return 'lightblue';
					} else if (value <= 250) {
						document.body.classList.add('lightyellow');
						return 'lightyellow';
					} else if (value > 250) {
						document.body.classList.add('lightred');
						return 'lightred';
					} else {
						document.body.classList.add('grey');
						return 'grey';
					}
				},*/
				getPsiSvgFillColor(value) {
					if (value === '') return '#000000';
					else if (value === " ") return '#000000';
					else if (value <= 50 && value >= 0) return '#FFFFFF';
					else if (value <= 100) return '#FFFFFF';
					else if (value <= 200) return '#000000';
					else if (value <= 300) return '#FFFFFF';
					else if (value > 300) return '#FFFFFF';
					else return '#000000';
				},
				getPm25SvgFillColor(value) {
					if (value === '') return '#000000';
					else if (value === " ") return '#000000';
					else if (value <= 55 && value >= 0) return '#505050';
					else if (value <= 150) return '#FFFFFF';
					else if (value <= 250) return '#000000';
					else if (value > 250) return '#FFFFFF';
					else return '#000000';
				},
				/*changePm25BackgroundColor(value) {
					document.body.classList.remove('lightgreen', 'lightblue', 'lightyellow', 'lightred', 'grey');
					if (value === '') {
						document.body.classList.add('grey');
					} else if (value === " ") {
						document.body.classList.add('grey');
					} else if (value <= 55 && value >= 0) {
						document.body.classList.add('lightgreen');
					} else if (value <= 150) {
						document.body.classList.add('lightblue');
					} else if (value <= 250) {
						document.body.classList.add('lightyellow');
					} else if (value > 250) {
						document.body.classList.add('lightred');
					} else {
						document.body.classList.add('grey');
					}
				}, */
				changePm25BackgroundColor(value) {
					const body = document.body;
					body.classList.remove('lightgreen', 'lightblue', 'lightyellow', 'lightred', 'grey');
					if (value === '') {
						body.classList.add('grey');
					} else if (value === " ") {
						body.classList.add('grey');
					} else if (value <= 55 && value >= 0) {
						body.classList.add('lightgreen');
					} else if (value <= 150) {
						body.classList.add('lightblue');
					} else if (value <= 250) {
						body.classList.add('lightyellow');
					} else if (value > 250) {
						body.classList.add('lightred');
					} else {
						body.classList.add('grey');
					}
				},
				/*changePsiBackgroundColor(value) {
					document.body.classList.remove('green', 'blue', 'yellow', 'orange', 'red', 'grey');
					if (value === '') {
						document.body.classList.add('grey');
					} else if (value === " ") {
						document.body.classList.add('grey');
					} else if (value <= 50 && value >= 0) {
						document.body.classList.add('green');
					} else if (value <= 100) {
						document.body.classList.add('blue');
					} else if (value <= 200) {
						document.body.classList.add('yellow');
					} else if (value <= 300) {
						document.body.classList.add('orange');
					} else if (value > 300) {
						document.body.classList.add('red');
					} else {
						document.body.classList.add('grey');
					}
				},*/
				changePsiBackgroundColor(value) {
					const body = document.body;
					body.classList.remove('green', 'blue', 'yellow', 'orange', 'red', 'grey');
					if (value === '') {
						body.classList.add('grey');
					} else if (value === " ") {
						body.classList.add('grey');
					} else if (value <= 50 && value >= 0) {
						body.classList.add('green');
					} else if (value <= 100) {
						body.classList.add('blue');
					} else if (value <= 200) {
						body.classList.add('yellow');
					} else if (value <= 300) {
						body.classList.add('orange');
					} else if (value > 300) {
						body.classList.add('red');
					} else {
						body.classList.add('grey');
					}
				},
				initialSetPm25BackgroundColor() {
					const regionPreference = JSON.parse(localStorage.getItem('regionPreference'));
					setTimeout(() => {
						if (regionPreference == 'central') {
							this.changePm25BackgroundColor(this.pm25);
						} else if (regionPreference == 'north') {
							this.changePm25BackgroundColor(this.pm25north);
						} else if (regionPreference == 'south') {
							this.changePm25BackgroundColor(this.pm25south);
						} else if (regionPreference == 'east') {
							this.changePm25BackgroundColor(this.pm25east);
						} else if (regionPreference == 'west') {
							this.changePm25BackgroundColor(this.pm25west);
						} else {
							// if first time visiting which means localStorage is null, then show Central as default
							this.changePm25BackgroundColor(this.pm25);
						}
					}, 900); // delay has to be >500, ~800 otherwise bg of body will be wrong
				},
				toggleToPsi() {
					this.showSlide = true;
					setTimeout(() => {
						this.showPSI = true;
						this.showPm25 = false;
						document.body.classList.remove('lightgreen', 'lightblue', 'lightyellow', 'lightred', 'grey');
						//document.body.classList.add(this.getPsiBackgroundColor(this.psi));
						this.setPsiRegion();
						document.getElementById('pm25Tag').style.opacity = 0.7;
						document.getElementById('psiTag').style.opacity = 1;
						document.getElementById('pm25Tag').style.boxShadow = "2px 2px rgba(0,0,0,0.2)";
						document.getElementById('psiTag').style.boxShadow = "none";
						this.fetchAirQualityData();
					}, 200);
				},
				toggleToPm25() {
					this.showSlide = false;
					setTimeout(() => {
						this.showPSI = false;
						this.showPm25 = true;
						document.body.classList.remove('green', 'blue', 'yellow', 'orange', 'red', 'grey');
						//document.body.classList.add(this.getPm25BackgroundColor(this.pm25));
						this.setRegion();
						document.getElementById('psiTag').style.opacity = 0.7;
						document.getElementById('pm25Tag').style.opacity = 1;
						document.getElementById('psiTag').style.boxShadow = "2px 2px rgba(0,0,0,0.2)";
						document.getElementById('pm25Tag').style.boxShadow = "none";
						this.fetchAirQualityData();
					}, 200);
				},
				getPsiAdvisory(value) {
					if (value === '') {
						return 'Health advisory not available.';
					} else if (value === " ") {
						return 'Health advisory not available.';
					} else if (value <= 50 && value >= 0) {
						return 'Normal activities.';
					} else if (value <= 100) {
						return 'Normal activities.';
					} else if (value <= 200) {
						return 'Do less of prolonged or strenous outdoor exertion. Vulnerable persons ‚Äì do not do strenuous outdoor activity for the next hour.';
					} else if (value <= 300) {
						return 'Do not do prolonged or strenous outdoor exertion. Vulnerable persons ‚Äì do not do all outdoor activity for the next hour.';
					} else if (value > 300) {
						return 'Do as little as possible all outdoor activity. Vulnerable persons ‚Äì do not do all outdoor activity for the next hour.';
					} else {
						return 'Health advisory not available.';
					}
					console.log('toggle to regional psi', value)
				},
				getPm25Advisory(value) {
					if (value === '') {
						return 'Health advisory not available.';
					} else if (value === " ") {
						return 'Health advisory not available.';
					} else if (value <= 55 && value >= 0) {
						return 'Continue with normal activities.';
					} else if (value <= 150) {
						return 'Do less strenuous outdoor activity for the next hour. Vulnerable persons ‚Äì Do not do strenuous outdoor activity for the next hour.';
					} else if (value <= 250) {
						return 'Do not do strenuous outdoor activity for the next hour. Vulnerable persons ‚Äì do not do all outdoor activity for the next hour.';
					} else if (value > 250) {
						return 'Do as little as possible all outdoor activity for the next hour. Vulnerable persons ‚Äì do not do all outdoor activity for the next hour.';
					} else {
						return 'Health advisory not available.';
					}
					console.log('toggle to regional pm25 value', value)
				},
				/* agetPm25Advisory() {
					if (value <= 55 && value >= 0) return 'lightgreen';
					else if (value <= 150) return 'lightblue';
					else if (value <= 250) return 'lightyellow';
					else return 'lightred';
				}, */
				refresh() {
					this.fetchAirQualityData();
					document.body.classList.add('fade-out-in')
					setTimeout(function() {
						document.body.classList.remove('fade-out-in')
					}, 1000);
				},
				toggleRegion(r) {
					if (r == 'central') {
						this.preferCentral = true;
						this.preferNorth = false;
						this.preferSouth = false;
						this.preferEast = false;
						this.preferWest = false;
						localStorage.removeItem('regionPreference');
						localStorage.setItem('regionPreference', JSON.stringify('central'));
						console.log('localStorage - regionPreference', localStorage.getItem('regionPreference'));
						this.changePm25BackgroundColor(this.pm25);
					} else if (r == 'north') {
						this.preferCentral = false;
						this.preferNorth = true
						this.preferSouth = false;
						this.preferEast = false;
						this.preferWest = false;
						localStorage.removeItem('regionPreference');
						localStorage.setItem('regionPreference', JSON.stringify('north'));
						console.log('localStorage - regionPreference', localStorage.getItem('regionPreference'));
						this.changePm25BackgroundColor(this.pm25north);
					} else if (r == 'south') {
						this.preferNorth = false;
						this.preferSouth = true
						this.preferCentral = false;
						this.preferEast = false;
						this.preferWest = false;
						localStorage.removeItem('regionPreference');
						localStorage.setItem('regionPreference', JSON.stringify('south'));
						console.log('localStorage - regionPreference', localStorage.getItem('regionPreference'));
						this.changePm25BackgroundColor(this.pm25south);
					} else if (r == 'east') {
						this.preferNorth = false;
						this.preferSouth = false;
						this.preferCentral = false;
						this.preferEast = true
						this.preferWest = false;
						localStorage.removeItem('regionPreference');
						localStorage.setItem('regionPreference', JSON.stringify('east'));
						console.log('localStorage - regionPreference', localStorage.getItem('regionPreference'));
						this.changePm25BackgroundColor(this.pm25east);
					} else if (r == 'west') {
						this.preferNorth = false;
						this.preferSouth = false;
						this.preferEast = false;
						this.preferWest = true
						this.preferCentral = false;
						localStorage.removeItem('regionPreference');
						localStorage.setItem('regionPreference', JSON.stringify('west'));
						console.log('localStorage - regionPreference', localStorage.getItem('regionPreference'));
						this.changePm25BackgroundColor(this.pm25west);
					} else {
						// if first time visiting, then show Central as default
						this.preferCentral = true;
						this.preferNorth = false;
						this.preferSouth = false;
						this.preferEast = false;
						this.preferWest = false;
						localStorage.removeItem('regionPreference');
						localStorage.setItem('regionPreference', JSON.stringify('central'));
						console.log('localStorage - regionPreference', localStorage.getItem('regionPreference'));
						this.changePm25BackgroundColor(this.pm25);
					}
				},
				setRegion() {
					const regionPreference = JSON.parse(localStorage.getItem('regionPreference'));
					console.log('regionPreference', regionPreference)
					if (regionPreference == 'central') {
						this.preferCentral = true;
						this.preferNorth = false;
						this.preferSouth = false;
						this.preferEast = false;
						this.preferWest = false;
						localStorage.removeItem('regionPreference');
						localStorage.setItem('regionPreference', JSON.stringify('central'));
						console.log('localStorage - regionPreference', localStorage.getItem('regionPreference'));
						this.changePm25BackgroundColor(this.pm25);
					} else if (regionPreference == 'north') {
						this.preferCentral = false;
						this.preferNorth = true;
						this.preferSouth = false;
						this.preferEast = false;
						this.preferWest = false;
						localStorage.removeItem('regionPreference');
						localStorage.setItem('regionPreference', JSON.stringify('north'));
						console.log('localStorage - regionPreference', localStorage.getItem('regionPreference'));
						this.changePm25BackgroundColor(this.pm25north);
					} else if (regionPreference == 'south') {
						this.preferNorth = false;
						this.preferSouth = true;
						this.preferCentral = false;
						this.preferEast = false;
						this.preferWest = false;
						localStorage.removeItem('regionPreference');
						localStorage.setItem('regionPreference', JSON.stringify('south'));
						console.log('localStorage - regionPreference', localStorage.getItem('regionPreference'));
						this.changePm25BackgroundColor(this.pm25south);
					} else if (regionPreference == 'east') {
						this.preferNorth = false;
						this.preferSouth = false;
						this.preferCentral = false;
						this.preferEast = true;
						this.preferWest = false;
						localStorage.removeItem('regionPreference');
						localStorage.setItem('regionPreference', JSON.stringify('east'));
						console.log('localStorage - regionPreference', localStorage.getItem('regionPreference'));
						this.changePm25BackgroundColor(this.pm25east);
					} else if (regionPreference == 'west') {
						this.preferNorth = false;
						this.preferSouth = false;
						this.preferEast = false;
						this.preferWest = true;
						this.preferCentral = false;
						localStorage.removeItem('regionPreference');
						localStorage.setItem('regionPreference', JSON.stringify('west'));
						console.log('localStorage - regionPreference', localStorage.getItem('regionPreference'));
						this.changePm25BackgroundColor(this.pm25west);
					} else {
						// if first time visiting, then show Central as default
						this.preferCentral = true;
						this.preferNorth = false;
						this.preferSouth = false;
						this.preferEast = false;
						this.preferWest = false;
						localStorage.removeItem('regionPreference');
						localStorage.setItem('regionPreference', JSON.stringify('central'));
						console.log('localStorage - regionPreference', localStorage.getItem('regionPreference'));
						this.changePm25BackgroundColor(this.pm25);
					}
				},
				togglePsiRegion(r) {
					if (r == 'central') {
						this.preferPsiCentral = true;
						this.preferPsiNorth = false;
						this.preferPsiSouth = false;
						this.preferPsiEast = false;
						this.preferPsiWest = false;
						this.preferPsiNational = false;
						localStorage.removeItem('psiRegionPreference');
						localStorage.setItem('psiRegionPreference', JSON.stringify('central'));
						console.log('localStorage - psiRegionPreference', localStorage.getItem('psiRegionPreference'));
						this.changePsiBackgroundColor(this.psicentral)
					} else if (r == 'north') {
						this.preferPsiCentral = false;
						this.preferPsiNorth = true;
						this.preferPsiSouth = false;
						this.preferPsiEast = false;
						this.preferPsiWest = false;
						this.preferPsiNational = false;
						localStorage.removeItem('psiRegionPreference');
						localStorage.setItem('psiRegionPreference', JSON.stringify('north'));
						console.log('localStorage - psiRegionPreference', localStorage.getItem('psiRegionPreference'));
						this.changePsiBackgroundColor(this.psinorth)
					} else if (r == 'south') {
						this.preferPsiNorth = false;
						this.preferPsiSouth = true;
						this.preferPsiCentral = false;
						this.preferPsiEast = false;
						this.preferPsiWest = false;
						this.preferPsiNational = false;
						localStorage.removeItem('psiRegionPreference');
						localStorage.setItem('psiRegionPreference', JSON.stringify('south'));
						console.log('localStorage - psiRegionPreference', localStorage.getItem('psiRegionPreference'));
						this.changePsiBackgroundColor(this.psisouth)
					} else if (r == 'east') {
						this.preferPsiNorth = false;
						this.preferPsiSouth = false;
						this.preferPsiCentral = false;
						this.preferPsiEast = true;
						this.preferPsiWest = false;
						this.preferPsiNational = false;
						localStorage.removeItem('psiRegionPreference');
						localStorage.setItem('psiRegionPreference', JSON.stringify('east'));
						console.log('localStorage - psiRegionPreference', localStorage.getItem('psiRegionPreference'));
						this.changePsiBackgroundColor(this.psieast)
					} else if (r == 'west') {
						this.preferPsiNorth = false;
						this.preferPsiSouth = false;
						this.preferPsiEast = false;
						this.preferPsiWest = true;
						this.preferPsiCentral = false;
						this.preferPsiNational = false;
						localStorage.removeItem('psiRegionPreference');
						localStorage.setItem('psiRegionPreference', JSON.stringify('west'));
						console.log('localStorage - psiRegionPreference', localStorage.getItem('psiRegionPreference'));
						this.changePsiBackgroundColor(this.psiwest)
					} else if (r == 'national') {
						// since API changed to no longer show national PSI, will switch national preference to central.
						this.preferPsiNorth = false;
						this.preferPsiSouth = false;
						this.preferPsiEast = false;
						this.preferPsiWest = false;
						this.preferPsiCentral = true;
						this.preferPsiNational = false;
						localStorage.removeItem('psiRegionPreference');
						localStorage.setItem('psiRegionPreference', JSON.stringify('central'));
						console.log('localStorage - psiRegionPreference', localStorage.getItem('psiRegionPreference'));
						this.changePsiBackgroundColor(this.psicentral)
					} else {
						// if first time visiting, then show National as default
						/*this.preferPsiNorth = false;
						this.preferPsiSouth = false;
						this.preferPsiEast = false;
						this.preferPsiWest = false;
						this.preferPsiCentral = false;
						this.preferPsiNational = true;
						localStorage.removeItem('psiRegionPreference');
						localStorage.setItem('psiRegionPreference', JSON.stringify('national'));
						console.log('localStorage - psiRegionPreference', localStorage.getItem('psiRegionPreference'));
						this.changePsiBackgroundColor(this.psi)*/
						// if first time visiting, then show Central as default
						this.preferPsiNorth = false;
						this.preferPsiSouth = false;
						this.preferPsiEast = false;
						this.preferPsiWest = false;
						this.preferPsiCentral = true;
						this.preferPsiNational = false;
						localStorage.removeItem('psiRegionPreference');
						localStorage.setItem('psiRegionPreference', JSON.stringify('central'));
						console.log('localStorage - psiRegionPreference', localStorage.getItem('psiRegionPreference'));
						this.changePsiBackgroundColor(this.psicentral)
					}
				},
				setPsiRegion() {
					const psiRegionPreference = JSON.parse(localStorage.getItem('psiRegionPreference'));
					console.log('psiRegionPreference', psiRegionPreference)
					if (psiRegionPreference == 'central') {
						this.preferPsiCentral = true;
						this.preferPsiNorth = false;
						this.preferPsiSouth = false;
						this.preferPsiEast = false;
						this.preferPsiWest = false;
						this.preferPsiNational = false;
						localStorage.removeItem('psiRegionPreference');
						localStorage.setItem('psiRegionPreference', JSON.stringify('central'));
						console.log('localStorage - psiRegionPreference', localStorage.getItem('psiRegionPreference'));
						this.changePsiBackgroundColor(this.psicentral)
					} else if (psiRegionPreference == 'north') {
						this.preferPsiCentral = false;
						this.preferPsiNorth = true;
						this.preferPsiSouth = false;
						this.preferPsiEast = false;
						this.preferPsiWest = false;
						this.preferPsiNational = false;
						localStorage.removeItem('psiRegionPreference');
						localStorage.setItem('psiRegionPreference', JSON.stringify('north'));
						console.log('localStorage - psiRegionPreference', localStorage.getItem('psiRegionPreference'));
						this.changePsiBackgroundColor(this.psinorth)
					} else if (psiRegionPreference == 'south') {
						this.preferPsiNorth = false;
						this.preferPsiSouth = true;
						this.preferPsiCentral = false;
						this.preferPsiEast = false;
						this.preferPsiWest = false;
						this.preferPsiNational = false;
						localStorage.removeItem('psiRegionPreference');
						localStorage.setItem('psiRegionPreference', JSON.stringify('south'));
						console.log('localStorage - psiRegionPreference', localStorage.getItem('psiRegionPreference'));
						this.changePsiBackgroundColor(this.psisouth)
					} else if (psiRegionPreference == 'east') {
						this.preferPsiNorth = false;
						this.preferPsiSouth = false;
						this.preferPsiCentral = false;
						this.preferPsiEast = true;
						this.preferPsiWest = false;
						this.preferPsiNational = false;
						localStorage.removeItem('psiRegionPreference');
						localStorage.setItem('psiRegionPreference', JSON.stringify('east'));
						console.log('localStorage - psiRegionPreference', localStorage.getItem('psiRegionPreference'));
						this.changePsiBackgroundColor(this.psieast)
					} else if (psiRegionPreference == 'west') {
						this.preferPsiNorth = false;
						this.preferPsiSouth = false;
						this.preferPsiEast = false;
						this.preferPsiWest = true;
						this.preferPsiCentral = false;
						this.preferPsiNational = false;
						localStorage.removeItem('psiRegionPreference');
						localStorage.setItem('psiRegionPreference', JSON.stringify('west'));
						console.log('localStorage - psiRegionPreference', localStorage.getItem('psiRegionPreference'));
						this.changePsiBackgroundColor(this.psiwest)
					} else if (psiRegionPreference == 'national') {
						// since API changed to no longer show national PSI, will switch national preference to central.
						this.preferPsiNorth = false;
						this.preferPsiSouth = false;
						this.preferPsiEast = false;
						this.preferPsiWest = false;
						this.preferPsiCentral = true;
						this.preferPsiNational = false;
						localStorage.removeItem('psiRegionPreference');
						localStorage.setItem('psiRegionPreference', JSON.stringify('central'));
						console.log('localStorage - psiRegionPreference', localStorage.getItem('psiRegionPreference'));
						this.changePsiBackgroundColor(this.psicentral)
					} else {
						// if first time visiting, then show National as default
						/*this.preferPsiNorth = false;
						this.preferPsiSouth = false;
						this.preferPsiEast = false;
						this.preferPsiWest = false;
						this.preferPsiCentral = false;
						this.preferPsiNational = true;
						localStorage.removeItem('psiRegionPreference');
						localStorage.setItem('psiRegionPreference', JSON.stringify('national'));
						console.log('localStorage - psiRegionPreference', localStorage.getItem('psiRegionPreference'));
						this.changePsiBackgroundColor(this.psi) */
						// if first time visiting, then show Central as default
						this.preferPsiNorth = false;
						this.preferPsiSouth = false;
						this.preferPsiEast = false;
						this.preferPsiWest = false;
						this.preferPsiCentral = true;
						this.preferPsiNational = false;
						localStorage.removeItem('psiRegionPreference');
						localStorage.setItem('psiRegionPreference', JSON.stringify('central'));
						console.log('localStorage - psiRegionPreference', localStorage.getItem('psiRegionPreference'));
						this.changePsiBackgroundColor(this.psicentral)
					}
				},
			}
		});
	</script>
</body>
	
</html>
